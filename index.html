<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="body__inner">
        <h1>Futures calculator</h1>
        <form>

            <div>
                <label><input value="long" type="radio" name="trade" id="long" checked> Long</label>

                <label><input value="short" type="radio" name="trade" id="short"> Short</label>
            </div>

            <div>
                <input id="laverage" type="range" value="24" min="1" max="100" oninput="this.nextElementSibling.value = this.value">
                <output>24</output>
            </div>

            <div>
                <label>Your deposite: <input id="deposite" type=number step=0.1></label>
            </div>
            <div>
                <label>Open contract price: <input id="openC" type=number step=0.1></label><br>
                <label>Close contract price: <input id="closeC" type=number step=0.1></label>
            </div>
            <div id="node-id">
                Output:
            </div>
            <input value="submit" type="button" onclick="calculator()">
        </form>
    </div>
    <script>
        function calculator() {
    let inp = document.getElementsByName('trade');
    let selected = '';
    for (var i = 0; i < inp.length; i++) {
        if (inp[i].type == "radio" && inp[i].checked) {
            selected = inp[i].value;
        }
    }

    let result = 0;
    let deposite = document.getElementById("deposite").value;
    let openCon = document.getElementById('openC').value;
    let closeCon = document.getElementById('closeC').value;
    let node = document.getElementById('node-id');
    let newNode = document.createElement('span');
    let elements = document.querySelectorAll('.depo');
    let laverage = document.getElementById('laverage').value;

    if (elements.length > 0) {
        elements[0].remove();
    }
    newNode.setAttribute("class", "depo");
    let firstpart = 0;
    let semiResult = 0;
    if (selected === 'long') {
        firstpart = deposite * laverage;
        semiResult = (firstpart / openCon) * closeCon;
        result = semiResult - firstpart;
    } else {
        firstpart = deposite * laverage;
        semiResult = (firstpart / openCon) * closeCon;
        result = (semiResult - firstpart) * (-1);
    }
    newNode.appendChild(document.createTextNode(result));
    node.appendChild(newNode);

    if (elements.length > 1) {
        newNode.remove();
    }
}
    </script>
</body>

</html>